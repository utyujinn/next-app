---
title: Claude Codeでドット絵アプリを作った
date: 2025-08-13
tags:
  - Claude
  - snes
  - qt
---

最近、働き始めた。そこで、コードを書く効率を高めるために昨日、Claude CodeのMaxプランに登録した。月額100$だ。私の月の食費より多い。しっかり働いてもらわないといけない。そこで、元を取るためと行ってはなんだが、ドット絵を書くことのできるアプリを作ってもらった。機能はYY-CHRを元にしている。qtベースで作成した。

制作時間は8h程。細かい機能調整が結構時間がかかり、長引いてしまった。なかなか直してくれないバグだったり、実装してくれない機能が所々あり、苦労した。私もコードを理解すれば的確な指示が出せるようになって効率がもっと高くなることは容易に予測できる。コードを理解できていなくて、不甲斐ない。

作成後、nixos用に設定を作った。以下２つをimportすることで、インストールできる。初めて自分がアップしたプログラムをパッケージ化するのはいくらAIであるとはいえ気分がいい。

コードはこれだ[github](https://github.com/utyujinn/snes-pixel-editor)
```cutom-packages.nix
{ config, pkgs, lib, ... }:

{
  nixpkgs.overlays = [
    (final: prev: {
      snes-pixel-editor = final.callPackage ./mypackage/snes-pixel-editor.nix {};
    })
  ];
}
```

```snes-pixel-editor.nix
{
  stdenv,
  fetchFromGitHub,
  cmake,
  qt6
}:

stdenv.mkDerivation rec {
  pname = "snes-pixel-editor";
  version = "1.0"; 

  src = fetchFromGitHub {
    owner = "utyujinn";
    repo = "snes-pixel-editor";
    rev = "0.2";
    sha256 = "aO2P0HFWGQdPtoHzmefmfoPpe8Lpy45PQu5PGrr9qFQ=";
  };

  nativeBuildInputs = [ 
    cmake
    qt6.wrapQtAppsHook
  ];

  buildInputs = [
    qt6.qtbase
  ];

  installPhase = ''
    runHook preInstall
    mkdir -p $out/bin
    cp src/snes-pixel-editor $out/bin/snes-pixel-editor
    runHook postInstall
  '';
}
```